<% if @group.salaries.count < ApplicationHelper::MIN_GROUP_MEMBERS %>
  <p>Salaries will not be displayed until there are at least
  <%= ApplicationHelper::MIN_GROUP_MEMBERS %> members in this group.</p>
<% else %>
  <table>
    <tr>
      <th>Title</th>
      <th>Salary</th>
    </tr>
    <% @group.salaries.each do |salary| %>
      <tr>
        <td><%= salary.title %></td>
        <td><%= fudged_salary(salary, @group.title_count(salary.title)) %></td>
      </tr>
    <% end %>
  </table>
  <hr/>
  <div>
    <p>Average Salary: <%= number_to_currency(@group.average_annual_pay) %></p>
    <p>Median Salary: <%= number_to_currency(@group.median_annual_pay) %></p>
  </div>

  <% title_avg = @group.average_annual_pay(title: @title) %>
  <% med_avg = @group.median_annual_pay(title: @title) %>
  <div>
    <p>Average <%= @salary.title %> Salary: <%= number_to_currency(title_avg) %></p>
    <p>Median <%= @salary.title %> Salary: <%= number_to_currency(med_avg) %></p>
  </div>
<% end %>
<hr/>

<%= content_for :sidebar do %>
  <%= render "partials/group_sidebar" %>
<% end %>
